<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ALI-MD Pair Code</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<style>
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700&family=Rajdhani:wght@300;400;500;600&display=swap');

:root {
  --primary: #ff6b9d;
  --secondary: #c084fc;
  --accent: #ffd6e0;
  --dark: #1a103d;
  --darker: #0f0825;
  --glass: rgba(255, 255, 255, 0.08);
  --glass-border: rgba(255, 255, 255, 0.15);
}

*{margin:0;padding:0;box-sizing:border-box;}
body {
  display:flex; justify-content:center; align-items:center;
  min-height:100vh; background: linear-gradient(135deg,var(--darker) 0%,var(--dark) 100%);
  font-family:'Rajdhani',sans-serif; color:white; overflow:hidden; position:relative;
}
body::before{
  content:''; position:absolute; top:0; left:0; width:100%; height:100%;
  background:
    radial-gradient(circle at 20% 30%, rgba(255,107,157,0.2) 0%, transparent 50%),
    radial-gradient(circle at 80% 70%, rgba(192,132,252,0.15) 0%, transparent 50%);
  z-index:-2;
}
.grid{
  position:absolute; top:0; left:0; width:100%; height:100%;
  background-image: linear-gradient(rgba(255,107,157,0.05) 1px, transparent 1px),
                    linear-gradient(90deg, rgba(255,107,157,0.05) 1px, transparent 1px);
  background-size:30px 30px;
  z-index:-1;
}
.container{
  display:flex; flex-direction:column; align-items:center; width:100%; padding:20px;
}
.main{
  position:relative; width:100%; max-width:400px;
}
.box{
  width:100%; padding:30px; position:relative; text-align:center;
  background: var(--glass); border-radius:20px; backdrop-filter: blur(15px);
  border:1px solid var(--glass-border); box-shadow:0 10px 30px rgba(0,0,0,0.3),
    inset 0 1px 0 rgba(255,255,255,0.1);
  transition: transform 0.5s ease, box-shadow 0.5s ease;
}
.box:hover{transform:rotateY(5deg); box-shadow:0 15px 35px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.1), 0 0 20px rgba(255,107,157,0.4);}
.logo{margin-bottom:20px; display:flex; flex-direction:column; align-items:center;}
.logo-icon{width:60px; height:60px; border-radius:50%; background: linear-gradient(135deg,var(--primary),var(--secondary)); display:flex; align-items:center; justify-content:center; margin-bottom:10px; box-shadow:0 0 20px rgba(255,107,157,0.5);}
.logo-icon img{width:40px;height:40px;border-radius:50%; object-fit:cover;}
.logo-text{font-family:'Orbitron',sans-serif; font-size:28px; font-weight:700; background:linear-gradient(45deg,var(--primary),var(--secondary)); -webkit-background-clip:text; -webkit-text-fill-color:transparent; text-shadow:0 0 10px rgba(255,107,157,0.5); letter-spacing:2px;}

.centered-text{text-align:center;margin-bottom:20px;}
h3{font-family:'Orbitron',sans-serif; font-size:18px; font-weight:500; color:var(--secondary); text-shadow:0 0 5px rgba(192,132,252,0.7); margin-bottom:5px; letter-spacing:1px;}
h6{font-size:14px; font-weight:400; color:rgba(255,255,255,0.7); margin-bottom:25px;}

.input-container{
  display:flex; background: rgba(0,0,0,0.2); border-radius:12px; padding:4px; gap:4px;
  width:100%; margin-bottom:20px; border:1px solid var(--glass-border);
}
.input-container input{
  border-radius:8px 0 0 8px; background:rgba(0,0,0,0.3); width:100%; flex-basis:75%; padding:15px;
  border:none; border-right:1px solid rgba(255,107,157,0.3); color:white; font-family:'Rajdhani',sans-serif; font-size:16px; font-weight:500;
}
.input-container input:focus{outline:none; background:rgba(0,0,0,0.4); box-shadow:0 0 10px rgba(255,107,157,0.3);}
.input-container input::placeholder{color:rgba(255,255,255,0.4);}
.input-container button{
  flex-basis:25%; padding:15px; background:linear-gradient(135deg,var(--primary) 0%,#e91e63 100%);
  font-family:'Orbitron',sans-serif; font-weight:600; letter-spacing:1px; text-transform:uppercase;
  color:white; border:none; border-radius:0 8px 8px 0; cursor:pointer; position:relative; overflow:hidden;
}
.input-container button::before{
  content:''; position:absolute; top:0; left:-100%; width:100%; height:100%;
  background:linear-gradient(90deg,transparent, rgba(255,255,255,0.2), transparent); transition:0.5s;
}
.input-container button:hover::before{left:100%;}
.input-container button:hover{background:linear-gradient(135deg,var(--secondary) 0%,#9333ea 100%); box-shadow:0 0 15px rgba(192,132,252,0.5);}

#waiting-message{display:none; color:var(--secondary); font-family:'Orbitron',sans-serif; margin:15px 0; text-shadow:0 0 5px rgba(192,132,252,0.7);}
#pair{min-height:60px; display:flex; align-items:center; justify-content:center; margin-top:10px;}
.code-display{font-family:'Orbitron',sans-serif; font-size:22px; background:rgba(0,0,0,0.3); padding:12px 20px; border-radius:8px; border:1px solid var(--glass-border); cursor:pointer; display:flex; align-items:center; gap:10px;}
.code-display:hover{background:rgba(0,0,0,0.4); box-shadow:0 0 15px rgba(255,107,157,0.3); transform:translateY(-2px);}
.particles{position:absolute; top:0; left:0; width:100%; height:100%; overflow:hidden; z-index:-1;}
.particle{position:absolute; border-radius:50%; animation:float 15s infinite linear;}
@keyframes float{0%{transform:translateY(100vh) rotate(0deg); opacity:0;}10%{opacity:1;}90%{opacity:1;}100%{transform:translateY(-100px) rotate(360deg); opacity:0;}}
@media(max-width:500px){
.input-container{flex-direction:column;}
.input-container input{border-radius:8px; border-right:none; border-bottom:1px solid rgba(255,107,157,0.3);}
.input-container button{padding:12px; border-radius:8px;}
.box{padding:25px 20px;}
}
</style>
</head>
<body>
<div class="grid"></div>
<div class="particles" id="particles"></div>

<div class="container">
  <div class="main">
    <div class="box" id="box">
      <div class="logo">
        <div class="logo-icon">
          <img src="https://files.catbox.moe/gat2po.jpeg" alt="ALI-MD">
        </div>
        <div class="logo-text">ùêÄùôªùô∏-ùêåùô≥ ùêèùô∞ùô∏ùöÅ ùêÇùöòùöçùöé</div>
      </div>
      <div id="text">
        <h3 class="centered-text">Link with phone number</h3>
        <h6>üåô Enter Your Number With Country Code</h6>
        <div class="input-container">
          <input placeholder="923xxxxxxxx" type="tel" id="phone-number" name="phone-number">
          <button id="submit"><span id="btn-text">Generate Pair Code</span></button>
        </div>
        <a id="waiting-message" class="centered-text">Processing...</a>
        <main id="pair"></main>
        <div id="action-buttons" style="display:none; margin-top:10px; gap:10px; justify-content:center;">
          <button id="copy-code"><i class="far fa-copy"></i> Copy Code</button>
        </div>
      </div>
    </div>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.0.0-alpha.1/axios.min.js"></script>
<script>
const submitButton = document.getElementById('submit');
const phoneInput = document.getElementById('phone-number');
const pairDiv = document.getElementById('pair');
const copyButton = document.getElementById('copy-code');
const actionButtons = document.getElementById('action-buttons');
const btnText = document.getElementById('btn-text');
const waitingMessage = document.getElementById('waiting-message');

function showResult(msg) {
  pairDiv.innerHTML = msg;
}

submitButton.addEventListener('click', async (e) => {
  e.preventDefault();
  const number = phoneInput.value.replace(/\D/g, '');
  
  if (!number) {
    showResult('<p>Please enter your phone number with country code</p>');
    phoneInput.focus();
    return;
  }
  if (number.length < 8) {
    showResult('<p>Phone number is too short</p>');
    return;
  }

  submitButton.disabled = true;
  btnText.innerHTML = 'Generating...';
  pairDiv.innerHTML = '';
  if (waitingMessage) waitingMessage.style.display = 'block';

  try {
    const response = await axios.get(`/code?number=${encodeURIComponent(number)}`);
    const code = response.data?.code;
    if (waitingMessage) waitingMessage.style.display = 'none';
    
    if (code) {
      showResult(`
        <p>Your pairing code is:</p>
        <div class="code-display" id="generated-code">${code}</div>
        <p>This code will expire in 1 minute</p>
      `);
      actionButtons.style.display = 'flex';
      copyButton.dataset.code = code;
    } else {
      showResult('<p>Service unavailable. Try later.</p>');
    }
  } catch(err) {
    if (waitingMessage) waitingMessage.style.display = 'none';
    showResult('<p>An error occurred. Try again later.</p>');
  } finally {
    submitButton.disabled = false;
    btnText.textContent = 'Generate Pair Code';
  }
});

copyButton.addEventListener('click', () => {
  const code = copyButton.dataset.code;
  if (!code) return;

  navigator.clipboard.writeText(code)
    .then(() => {
      copyButton.innerHTML = '<i class="fas fa-check"></i> Copied!';
      copyButton.classList.add('copied');

      setTimeout(() => {
        copyButton.innerHTML = '<i class="far fa-copy"></i> Copy Code';
        copyButton.classList.remove('copied');
      }, 2000);
    })
    .catch(() => {
      showResult('<p>Failed to copy. Copy manually.</p>');
    });
});

// Background particles
function createParticles(count=30){
  const container = document.getElementById('particles');
  for (let i = 0; i < count; i++) {
    const p = document.createElement('div');
    p.classList.add('particle');
    const size = Math.random() * 8 + 2;
    p.style.width = p.style.height = `${size}px`;
    p.style.left = `${Math.random() * 100}%`;
    p.style.background = ['rgba(255,107,157,0.3)','rgba(192,132,252,0.3)'][Math.floor(Math.random()*2)];
    p.style.animationDuration = `${Math.random()*15+10}s`;
    container.appendChild(p);
  }
}
createParticles();
</script>
</body>
</html>
